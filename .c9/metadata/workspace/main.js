{"filter":false,"title":"main.js","tooltip":"/main.js","undoManager":{"mark":77,"position":77,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":22,"column":38},"end":{"row":22,"column":39}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":22,"column":39},"end":{"row":22,"column":40}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":22,"column":39},"end":{"row":22,"column":40}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":22,"column":38},"end":{"row":22,"column":39}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":22,"column":41},"end":{"row":22,"column":42}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":22,"column":41},"end":{"row":22,"column":42}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":22,"column":41},"end":{"row":22,"column":42}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":22,"column":40},"end":{"row":22,"column":41}},"text":"v"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":22,"column":41},"end":{"row":22,"column":42}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":3,"column":0},"end":{"row":4,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":2,"column":0},"end":{"row":3,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":0},"end":{"row":40,"column":16}},"text":"election.init();"},{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":40,"column":0}},"nl":"\n","lines":["","var fs = require('fs');","","var election = {","  sandbox: function() {","  },","  Office: function(name) {","    this.name = name;","    return this;","  },","  offices: [],","  parse: function(data) {","    var votes = data.toString().split(new RegExp('\\r?\\n','g'));","    for(var i in votes) {","      var vote = votes[i].split(\"\\t\");","      var office = election.offices.filter(function(off){","        return off.name == vote[3];","      });","      ","      if(!office.length){","        if(typeof vote[3]=== 'string' &[t[3].toUpperCase())  {","          ","        }","        office = new election.Office(vote[3]);","        election.offices.push(office);","      }","      ","    }","    ","    console.log(election.offices);","  },","  init: function(){","    fs.readFile('./2012_GENERAL.txt', 'utf8', function(err, data) {","      // the data is passed to the callback in the second argument","      election.parse(data);","      election.sandbox();","    });","  }","};",""]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":23}},"text":"var fs = require('fs');"},{"action":"insertText","range":{"start":{"row":0,"column":23},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":72,"column":0}},"lines":["var election = {","    Office: function(name) {","        this.name = name;","        this.results = {};","        this.announce_winner = function(){","            var winner;","            var max = 0;","            ","            for(var i in this.results) {","                if(this.results[i].votes > max) {","                    max = this.results[i].votes;","                    winner = this.results[i];","                    winner.party = i;","                }","            }","            console.log('Winner of ' + this.name + ' with ' + winner.votes + ' votes: ' + winner.candidate + ' -- ' + winner.party );","        }        ","        return this;","    },","    offices: [],","    report: function() {","        for(var i in this.offices) {","            this.offices[i].announce_winner();","        }","    },","    parse: function(data) {","        var votes = data.toString().split(new RegExp('\\r?\\n', 'g'));","        for (var i in votes) {","            var vote = votes[i].split(\"\\t\");","            var office_name = vote[3];","            var party = vote[5];","            var candidate = vote[4];","            if(party == '') {","                party = candidate;","            }","            var office = election.offices.filter(function(off) {","                return off.name == office_name;","            });","            if (office.length) {","                office = office[0];","                if(office.results.hasOwnProperty(party)) {","                    office.results[party].votes += parseInt(vote[6]);","                } else {","                    office.results[party] = {","                        'votes' : parseInt(vote[6]),","                        'candidate' : candidate","                    }","                }","            } else {","                if (typeof office_name !== 'string' || office_name !== office_name.toUpperCase() || office_name === 'OFFICE') {","                    continue;","                }","                office = new election.Office(office_name);","                office.results[party] = {","                    'votes' : parseInt(vote[6]),","                    'candidate' : candidate","                }","","                election.offices.push(office);","            }","        }","        //console.log(JSON.stringify(election.offices, null, 4));","    },","    init: function() {","        fs.readFile('./2012_GENERAL.txt', 'utf8', function(err, data) {","            // the data is passed to the callback in the second argument","            election.parse(data);","            election.report();","        });","    }","};"]},{"action":"insertText","range":{"start":{"row":72,"column":0},"end":{"row":72,"column":16}},"text":"election.init();"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":13},"end":{"row":16,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":16,"column":0},"end":{"row":16,"column":12}},"text":"            "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":12},"end":{"row":16,"column":13}},"text":"v"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":13},"end":{"row":16,"column":14}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":14},"end":{"row":16,"column":15}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":15},"end":{"row":16,"column":16}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":16},"end":{"row":16,"column":17}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":17},"end":{"row":16,"column":18}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":18},"end":{"row":16,"column":19}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":19},"end":{"row":16,"column":20}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":20},"end":{"row":16,"column":21}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":21},"end":{"row":16,"column":22}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":22},"end":{"row":16,"column":23}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":23},"end":{"row":16,"column":24}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":24},"end":{"row":16,"column":25}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":25},"end":{"row":16,"column":26}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":26},"end":{"row":16,"column":27}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":27},"end":{"row":16,"column":28}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":28},"end":{"row":16,"column":29}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":29},"end":{"row":16,"column":30}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":30},"end":{"row":16,"column":31}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":31},"end":{"row":16,"column":51}},"text":".replace(/\\s+/g,' ')"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":17,"column":24},"end":{"row":17,"column":132}},"text":"'Winner of ' + this.name + ' with ' + winner.votes + ' votes: ' + winner.candidate + ' -- ' + winner.party )"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":31},"end":{"row":16,"column":139}},"text":"'Winner of ' + this.name + ' with ' + winner.votes + ' votes: ' + winner.candidate + ' -- ' + winner.party )"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":16,"column":138},"end":{"row":16,"column":139}},"text":")"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":138},"end":{"row":17,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":17,"column":0},"end":{"row":17,"column":12}},"text":"            "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":12},"end":{"row":17,"column":13}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":13},"end":{"row":17,"column":14}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":14},"end":{"row":17,"column":15}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":15},"end":{"row":17,"column":16}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":16},"end":{"row":17,"column":17}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":17},"end":{"row":17,"column":18}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":18},"end":{"row":17,"column":19}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":19},"end":{"row":17,"column":20}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":20},"end":{"row":17,"column":21}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":21},"end":{"row":17,"column":22}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":22},"end":{"row":17,"column":23}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":23},"end":{"row":17,"column":24}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":24},"end":{"row":17,"column":25}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":25},"end":{"row":17,"column":26}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":26},"end":{"row":17,"column":27}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":27},"end":{"row":17,"column":28}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":28},"end":{"row":17,"column":29}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":29},"end":{"row":17,"column":30}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":30},"end":{"row":17,"column":31}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":31},"end":{"row":17,"column":32}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":32},"end":{"row":17,"column":33}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":33},"end":{"row":17,"column":34}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":34},"end":{"row":17,"column":35}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":35},"end":{"row":17,"column":36}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":36},"end":{"row":17,"column":37}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":37},"end":{"row":17,"column":38}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":38},"end":{"row":17,"column":39}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":24},"end":{"row":18,"column":25}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":25},"end":{"row":18,"column":26}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":26},"end":{"row":18,"column":27}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":27},"end":{"row":18,"column":28}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":28},"end":{"row":18,"column":29}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":29},"end":{"row":18,"column":30}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":30},"end":{"row":18,"column":31}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":31},"end":{"row":18,"column":32}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":32},"end":{"row":18,"column":33}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":33},"end":{"row":18,"column":34}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":34},"end":{"row":18,"column":35}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":35},"end":{"row":18,"column":36}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":36},"end":{"row":18,"column":37}},"text":")"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":74,"column":0},"end":{"row":74,"column":16}},"text":"election.init();"},{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":74,"column":0}},"nl":"\n","lines":["var fs = require('fs');","var election = {","    Office: function(name) {","        this.name = name;","        this.results = {};","        this.announce_winner = function(){","            var winner;","            var max = 0;","            ","            for(var i in this.results) {","                if(this.results[i].votes > max) {","                    max = this.results[i].votes;","                    winner = this.results[i];","                    winner.party = i;","                }","            }","            var announcement = 'Winner of ' + this.name + ' with ' + winner.votes + ' votes: ' + winner.candidate + ' -- ' + winner.party ","            announcement = announcement.replace(/\\s+/g,' ')","            console.log(announcement);","        }        ","        return this;","    },","    offices: [],","    report: function() {","        for(var i in this.offices) {","            this.offices[i].announce_winner();","        }","    },","    parse: function(data) {","        var votes = data.toString().split(new RegExp('\\r?\\n', 'g'));","        for (var i in votes) {","            var vote = votes[i].split(\"\\t\");","            var office_name = vote[3];","            var party = vote[5];","            var candidate = vote[4];","            if(party == '') {","                party = candidate;","            }","            var office = election.offices.filter(function(off) {","                return off.name == office_name;","            });","            if (office.length) {","                office = office[0];","                if(office.results.hasOwnProperty(party)) {","                    office.results[party].votes += parseInt(vote[6]);","                } else {","                    office.results[party] = {","                        'votes' : parseInt(vote[6]),","                        'candidate' : candidate","                    }","                }","            } else {","                if (typeof office_name !== 'string' || office_name !== office_name.toUpperCase() || office_name === 'OFFICE') {","                    continue;","                }","                office = new election.Office(office_name);","                office.results[party] = {","                    'votes' : parseInt(vote[6]),","                    'candidate' : candidate","                }","","                election.offices.push(office);","            }","        }","        //console.log(JSON.stringify(election.offices, null, 4));","    },","    init: function() {","        fs.readFile('./2012_GENERAL.txt', 'utf8', function(err, data) {","            // the data is passed to the callback in the second argument","            election.parse(data);","            election.report();","        });","    }","};"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":23}},"text":"var fs = require('fs');"},{"action":"insertText","range":{"start":{"row":0,"column":23},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":72,"column":0}},"lines":["var election = {","    Office: function(name) {","        this.name = name;","        this.results = {};","        this.announce_winner = function() {","            var winner;","            var max = 0;","            for (var i in this.results) {","                if (this.results[i].votes > max) {","                    max = this.results[i].votes;","                    winner = this.results[i];","                    winner.party = i;","                }","            }","            var announcement = 'Winner of ' + this.name + ' with ' + winner.votes + ' votes: ' + winner.candidate + ' -- ' + winner.party;","            announcement = announcement.replace(/\\s+/g, ' ');","            console.log(announcement);","        };","        return this;","    },","    offices: [],","    report: function() {","        for (var i in this.offices) {","            this.offices[i].announce_winner();","        }","    },","    parse: function(data) {","        var votes = data.toString().split(new RegExp('\\r?\\n', 'g'));","        for (var i in votes) {","            var vote = votes[i].split(\"\\t\");","            var office_name = vote[3];","            var party = vote[5];","            var candidate = vote[4];","            if (party === '') {","                party = candidate;","            }","            var office = election.offices.filter(function(off) {","                return off.name == office_name;","            });","            if (office.length) {","                office = office[0];","                if (office.results.hasOwnProperty(party)) {","                    office.results[party].votes += parseInt(vote[6]);","                } else {","                    office.results[party] = {","                        'votes': parseInt(vote[6]),","                        'candidate': candidate","                    };","                }","            } else {","                if (typeof office_name !== 'string' || office_name !== office_name.toUpperCase() || office_name === 'OFFICE') {","                    continue;","                }","                office = new election.Office(office_name);","                office.results[party] = {","                    'votes': parseInt(vote[6]),","                    'candidate': candidate","                };","                election.offices.push(office);","            }","        }","        //console.log(JSON.stringify(election.offices, null, 4));","    },","    init: function() {","        fs.readFile('./2012_GENERAL.txt', 'utf8', function(err, data) {","            // the data is passed to the callback in the second argument","            election.parse(data);","            election.report();","        });","    }","};"]},{"action":"insertText","range":{"start":{"row":72,"column":0},"end":{"row":72,"column":16}},"text":"election.init();"}]}]]},"ace":{"folds":[],"scrolltop":361,"scrollleft":0,"selection":{"start":{"row":24,"column":46},"end":{"row":24,"column":46},"isBackwards":false},"options":{"tabSize":2,"useSoftTabs":false,"guessTabSize":false,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":18,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1406781190655,"hash":"28582a9a6a1ea4ac19a7bcc50818ae1c766fd6cb"}